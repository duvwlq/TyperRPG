# 타이핑 RPG 테스트 가이드

이 문서는 TypingRPG 프로젝트를 실행하고 테스트하는 방법을 설명합니다.

---

## 📋 목차

1. [프로젝트 실행 방법](#프로젝트-실행-방법)
2. [기능별 테스트 체크리스트](#기능별-테스트-체크리스트)
3. [문제 해결](#문제-해결)
4. [주요 파일 구조](#주요-파일-구조)

---

## 🚀 프로젝트 실행 방법

### 1. 프론트엔드 실행

```bash
# 프론트엔드 폴더로 이동
cd typing-rpg-frontend

# 개발 서버 실행
npm run dev
```

서버가 실행되면 브라우저에서 `http://localhost:5173` 주소로 접속합니다.

### 2. 개발 서버 중지

터미널에서 `Ctrl + C`를 누르면 서버가 중지됩니다.

### 3. 빌드 (배포용)

```bash
# 프로덕션 빌드
npm run build

# 빌드된 파일은 dist 폴더에 생성됨
```

---

## ✅ 기능별 테스트 체크리스트

### 1. 홈 페이지 (/)

**테스트 항목:**
- [ ] 페이지가 정상적으로 로드되는가?
- [ ] "LET'S GO ON AN ADVENTURE!" 제목이 보이는가?
- [ ] START 버튼을 클릭하면 콘텐츠 선택 페이지로 이동하는가?
- [ ] 상단 네비게이션 바가 보이는가?
- [ ] 레벨과 골드가 표시되는가?

**테스트 방법:**
1. `http://localhost:5173` 접속
2. START 버튼 클릭
3. 콘텐츠 선택 페이지로 이동 확인

---

### 2. 콘텐츠 선택 페이지 (/content)

**테스트 항목:**
- [ ] 좌측에 콘텐츠 목록이 표시되는가?
- [ ] 콘텐츠를 선택하면 우측에 상세 정보가 표시되는가?
- [ ] "무한 타이핑" 버튼이 보이는가?
- [ ] "보스 배틀" 버튼이 보이는가?
- [ ] 난이도, 권장 WPM, 보상(EXP, Gold)이 표시되는가?

**테스트 방법:**
1. 좌측 목록에서 첫 번째 콘텐츠 클릭
2. 우측 상세 정보 확인
3. "무한 타이핑" 버튼 클릭 → 게임 시작 확인
4. 뒤로가기 후 "보스 배틀" 버튼 클릭 → 게임 시작 확인

---

### 3. 게임 플레이 (무한 타이핑)

**테스트 항목:**
- [ ] 타이머가 60초부터 카운트다운 되는가?
- [ ] 문장이 화면에 표시되는가?
- [ ] 입력 필드에 포커스가 자동으로 가는가?
- [ ] 타이핑 시 문자가 올바르게 표시되는가? (정답: 검정색, 대기: 회색)
- [ ] 오타 입력 시 빨간색으로 표시되는가?
- [ ] 한글 조합 중에는 오타 체크를 하지 않는가? (ㅇ, 아 등)
- [ ] 문장 완료 시 다음 문장으로 넘어가는가?
- [ ] 몬스터 HP가 감소하는가?
- [ ] 오타 시 플레이어 HP가 감소하는가?
- [ ] CPM, ACC, ERR 통계가 업데이트되는가?
- [ ] 몬스터 처치 시 결과 화면이 표시되는가?
- [ ] 시간 초과 시 패배 화면이 표시되는가?
- [ ] 플레이어 HP 0 시 패배 화면이 표시되는가?

**테스트 방법:**
1. 콘텐츠 선택 후 "무한 타이핑" 클릭
2. 입력 필드에 문장 입력
3. 의도적으로 오타 입력해보기
4. 문장 완료 후 다음 문장 확인
5. 게임 종료까지 플레이

**주의사항:**
- 한글 입력 시: "ㅇ" → "아" → "안" 과정에서 빨간색이 나오면 안 됨
- 입력 완료 후에만 정확/오타 판정

---

### 4. 게임 플레이 (보스 배틀)

**테스트 항목:**
- 무한 타이핑과 동일한 항목
- [ ] 보스 전용 UI가 표시되는가?
- [ ] 몬스터 HP 바가 화면 상단에 표시되는가?

**테스트 방법:**
- 무한 타이핑과 동일

---

### 5. 게임 결과 화면

**테스트 항목:**
- [ ] 승리/패배 메시지가 표시되는가?
- [ ] 점수, WPM, 정확도가 표시되는가?
- [ ] 획득 경험치와 골드가 표시되는가?
- [ ] 레벨업 시 "🎉 레벨 업! 🎉" 메시지가 표시되는가?
- [ ] "다시 하기" 버튼이 작동하는가?
- [ ] "랭킹 보기" 버튼이 작동하는가?
- [ ] "메인으로" 버튼이 작동하는가?
- [ ] 승리 시 랭킹에 저장되는가?

**테스트 방법:**
1. 게임 종료 후 결과 화면 확인
2. 각 버튼 클릭하여 페이지 이동 확인
3. 랭킹 페이지에서 방금 플레이한 기록 확인

---

### 6. 랭킹 페이지 (/ranking)

**테스트 항목:**
- [ ] 랭킹 목록이 점수순으로 정렬되어 표시되는가?
- [ ] 1~3위에 메달(🥇🥈🥉)이 표시되는가?
- [ ] 닉네임, 레벨, 점수, WPM이 표시되는가?
- [ ] 상위 10명만 표시되는가?
- [ ] 랭킹이 없을 때 안내 메시지가 표시되는가?

**테스트 방법:**
1. 상단 네비게이션에서 "랭킹" 클릭
2. 여러 번 게임 플레이 후 랭킹 확인
3. 점수가 높은 순으로 정렬되는지 확인

---

### 7. 프로필 페이지 (/profile)

**테스트 항목:**
- [ ] 캐릭터 아바타가 표시되는가?
- [ ] 레벨, 경험치 바가 표시되는가?
- [ ] HP, 공격력, 레벨, 골드, 총 점수가 표시되는가?
- [ ] 게임 기록(승리, 패배 등)이 표시되는가?
- [ ] 경험치 바가 정확한 비율로 표시되는가?

**테스트 방법:**
1. 상단 네비게이션에서 "프로필" 클릭
2. 모든 정보가 올바르게 표시되는지 확인
3. 게임 플레이 후 경험치/골드 변화 확인

---

### 8. 상점 페이지 (/shop)

**테스트 항목:**
- [ ] 보유 골드가 상단에 표시되는가?
- [ ] "전체", "⚔️ 무기", "🛡️ 방어구" 필터 버튼이 작동하는가?
- [ ] 아이템이 그리드로 표시되는가?
- [ ] 아이템 아이콘, 이름, 설명, 효과, 가격이 표시되는가?
- [ ] 골드가 부족하면 "SOLD OUT" 버튼이 비활성화되는가?
- [ ] 구매 시 골드가 차감되는가?
- [ ] 구매 시 스탯이 즉시 적용되는가? (ATK 증가, HP 증가)
- [ ] 구매한 아이템이 인벤토리에 저장되는가?

**테스트 방법:**
1. 상단 네비게이션에서 "상점" 클릭
2. 각 필터 버튼 클릭하여 아이템 필터링 확인
3. 골드가 충분한 아이템 구매
4. 프로필 페이지에서 스탯 변화 확인
5. 네비게이션 바에서 골드 감소 확인

---

### 9. 네비게이션 바

**테스트 항목:**
- [ ] 모든 페이지에서 상단에 표시되는가?
- [ ] "홈", "게임", "랭킹", "상점", "프로필" 링크가 작동하는가?
- [ ] 현재 페이지가 하이라이트되는가?
- [ ] 레벨과 골드가 실시간으로 업데이트되는가?

**테스트 방법:**
1. 각 페이지로 이동하며 네비게이션 확인
2. 게임 플레이 후 레벨/골드 변화 확인
3. 상점에서 아이템 구매 후 골드 감소 확인

---

### 10. LocalStorage (데이터 저장)

**테스트 항목:**
- [ ] 페이지 새로고침 후에도 플레이어 데이터가 유지되는가?
- [ ] 브라우저를 닫았다 열어도 데이터가 유지되는가?
- [ ] 랭킹 데이터가 저장되는가?
- [ ] 인벤토리 데이터가 저장되는가?

**테스트 방법:**
1. 게임 플레이하여 레벨업, 골드 획득
2. `F5`로 페이지 새로고침
3. 데이터가 유지되는지 확인
4. 브라우저 개발자 도구(F12) → Application → Local Storage 확인
   - `typingRpg_player`: 플레이어 데이터
   - `typingRpg_rankings`: 랭킹 데이터
   - `typingRpg_inventory`: 인벤토리 데이터

**LocalStorage 초기화:**
```javascript
// 브라우저 콘솔(F12)에서 실행
localStorage.clear()
```

---

## 🔧 문제 해결

### 1. 페이지가 로드되지 않음

**증상:** 흰 화면 또는 에러 메시지

**해결방법:**
```bash
# 의존성 재설치
cd typing-rpg-frontend
rm -rf node_modules
npm install

# 개발 서버 재시작
npm run dev
```

---

### 2. 타이머가 작동하지 않음

**증상:** 타이머가 60초에서 멈춤

**해결방법:**
- 입력 필드를 클릭하거나 타이핑을 시작하면 타이머 작동
- 첫 입력 시 타이머가 시작되도록 설계됨

---

### 3. 한글 입력 시 빨간색 표시

**증상:** "ㅇ", "아" 입력 단계에서 빨간색으로 표시됨

**상태:** ✅ **수정 완료**
- `e.nativeEvent.isComposing`을 사용하여 조합 중에는 오타 체크하지 않음

**확인 방법:**
1. GamePlay.jsx 또는 GamePlayBoss.jsx 파일 열기
2. `handleInputChange` 함수에서 `e.nativeEvent.isComposing` 체크 확인

---

### 4. 데이터가 초기화됨

**증상:** 페이지 새로고침 시 데이터가 사라짐

**원인:** LocalStorage가 제대로 저장되지 않음

**해결방법:**
- 브라우저 설정에서 쿠키/저장소 차단 확인
- 시크릿 모드가 아닌 일반 모드에서 테스트
- 브라우저 개발자 도구에서 Local Storage 확인

---

### 5. 상점에서 구매 후 스탯이 적용되지 않음

**증상:** 아이템 구매 후 ATK, HP가 증가하지 않음

**해결방법:**
- 프로필 페이지에서 스탯 확인
- 페이지 새로고침 후 확인
- 네비게이션 바의 레벨/골드는 즉시 업데이트됨

---

## 📁 주요 파일 구조

```
typing-rpg-frontend/
├── src/
│   ├── components/          # 재사용 가능한 컴포넌트
│   │   ├── Navbar.jsx       # 상단 네비게이션 바
│   │   ├── GameResult.jsx   # 게임 결과 모달
│   │   └── ...
│   ├── pages/               # 페이지 컴포넌트
│   │   ├── Home.jsx         # 메인 페이지
│   │   ├── ContentSelect.jsx # 콘텐츠 선택
│   │   ├── GamePlay.jsx     # 무한 타이핑 게임
│   │   ├── GamePlayBoss.jsx # 보스 배틀 게임
│   │   ├── Ranking.jsx      # 랭킹 페이지
│   │   ├── Shop.jsx         # 상점 페이지
│   │   └── Profile.jsx      # 프로필 페이지
│   ├── context/             # React Context (전역 상태)
│   │   └── GameContext.jsx  # 플레이어 데이터 관리
│   ├── hooks/               # Custom Hooks
│   │   └── useTyping.js     # 타이핑 로직 Hook
│   ├── utils/               # 유틸리티 함수
│   │   ├── typingEngine.js  # 타이핑 엔진 (WPM, 정확도 계산)
│   │   └── storage.js       # LocalStorage 관리
│   ├── data/                # 정적 데이터
│   │   ├── sentences.js     # 게임 문장 데이터
│   │   └── items.js         # 상점 아이템 데이터
│   ├── App.jsx              # 메인 앱 (라우팅 설정)
│   └── main.jsx             # 엔트리 포인트
└── package.json
```

---

## 🎯 전체 테스트 시나리오

### 시나리오 1: 첫 플레이부터 랭킹 등록까지

1. 홈 페이지 접속 (`/`)
2. START 버튼 클릭
3. 첫 번째 콘텐츠 선택
4. "무한 타이핑" 클릭
5. 게임 플레이 (몬스터 처치)
6. 결과 화면에서 경험치, 골드 획득 확인
7. "랭킹 보기" 클릭
8. 랭킹에 내 기록이 등록되었는지 확인

### 시나리오 2: 상점에서 아이템 구매

1. 게임 플레이하여 골드 획득 (최소 100G)
2. 상단 네비게이션에서 "상점" 클릭
3. "무기" 필터 클릭
4. "나무 검" 구매 (100G)
5. "프로필" 페이지로 이동
6. 공격력이 5 증가했는지 확인 (10 → 15)

### 시나리오 3: 데이터 persistence 확인

1. 게임 여러 번 플레이
2. 레벨업, 골드 획득, 상점 구매
3. 브라우저 새로고침 (F5)
4. 모든 데이터가 유지되는지 확인
5. 브라우저 닫기
6. 다시 열어서 데이터 유지 확인

---

## 📝 테스트 결과 기록

테스트를 진행하면서 발견한 버그나 개선사항을 아래에 기록하세요:

### 발견된 버그
- [ ] 버그 내용:
- [ ] 재현 방법:
- [ ] 예상 동작:
- [ ] 실제 동작:

### 개선 제안
- [ ] 제안 내용:
- [ ] 이유:

---

## 🚀 다음 단계

Phase 1 (프론트엔드 MVP) 완료 후:

### Phase 2: 백엔드 연동
- Spring Boot API 개발
- SQLite 데이터베이스 연동
- LocalStorage → API 마이그레이션

### Phase 3: 추가 기능
- 닉네임 시스템
- 다양한 게임 모드 (시간 제한, 무한 모드 등)
- 픽셀 아트 리소스 적용
- 애니메이션 추가

---

**테스트 완료 시 이 문서를 참고하여 모든 기능이 정상 작동하는지 확인하세요!**
